<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>X√¢y d·ª±ng h·ªá th·ªëng x·ª≠ l√Ω background b·∫±ng ruby - Home</title>
<meta name="description" content="1. L·ª£i √≠ch c·ªßa vi·ªác s·ª≠ d·ª•ng background job ƒê·ªëi v·ªõi ·ª©ng d·ª•ng vi·∫øt b·∫±ng Rails, m·ªói khi c√≥ request ƒë·∫øn, webserver ti·∫øp nh·∫≠n request v√† tr·∫£ v·ªÅ resoponse, t·∫°i sao ch√∫ng ta c·∫ßn s·ª≠  d·ª•ng background? B·ªüi v√¨ ƒë·ªëi v·ªõi nh·ªØng request c·∫ßn ph·∫£i t·ªën nhi·ªÅu th·ªùi gian ƒë·ªÉ x·ª≠ l√Ω nh∆∞ g·ª≠i email, import hay export v·ªõi l∆∞·ª£ng data l·ªõn, khi request ƒë∆∞·ª£c x·ª≠ l√Ω s·∫Ω ch·∫∑n c√°c request kh√°c, trong tr∆∞·ªùng h·ª£p x·ª≠ l√Ω qu√° l√¢u s·∫Ω g√¢y l·ªói Timeout ·∫£nh h∆∞·ªüng ƒë·∫øn tr·∫£i nghi·ªám ng∆∞·ªùi d√πng. ƒê·ªÉ ·ª©ng d·ª•ng c√≥ th·ªÉ ho·∫°t ƒë·ªông tr∆°n chu, m∆∞·ª£t m√† h∆°n v√† √≠t b·ªã ng∆∞·ªùi d√πng ch·ª≠i l√† web l·ªüm vl üò¨, ng∆∞·ªùi ta nghƒ© ra c√°ch cho nh·ªØng t√°c v·ª• n√†y ch·∫°y trong n·ªÅn. V√≠ d·ª• nh∆∞ vi·ªác x·ª≠  d·ª•ng ch·ª©c nƒÉng export CSV, khi ng∆∞·ªùi d√πng click v√†o n√∫t export th√¨ ta s·∫Ω cho ph·∫ßn export v√† generate file ch·∫°y ng·∫ßm, khi ch·∫°y xong th√¨ g·ª≠i file cho ng∆∞·ªùi d√πng,thao t√°c c·ªßa ng∆∞·ªùi d√πng kh√¥ng b·ªã gi√°n ƒëo·∫°n. ">


  <meta name="author" content="Cloud">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Home">
<meta property="og:title" content="X√¢y d·ª±ng h·ªá th·ªëng x·ª≠ l√Ω background b·∫±ng ruby">
<meta property="og:url" content="/buiding-background-process-ruby/">


  <meta property="og:description" content="1. L·ª£i √≠ch c·ªßa vi·ªác s·ª≠ d·ª•ng background job ƒê·ªëi v·ªõi ·ª©ng d·ª•ng vi·∫øt b·∫±ng Rails, m·ªói khi c√≥ request ƒë·∫øn, webserver ti·∫øp nh·∫≠n request v√† tr·∫£ v·ªÅ resoponse, t·∫°i sao ch√∫ng ta c·∫ßn s·ª≠  d·ª•ng background? B·ªüi v√¨ ƒë·ªëi v·ªõi nh·ªØng request c·∫ßn ph·∫£i t·ªën nhi·ªÅu th·ªùi gian ƒë·ªÉ x·ª≠ l√Ω nh∆∞ g·ª≠i email, import hay export v·ªõi l∆∞·ª£ng data l·ªõn, khi request ƒë∆∞·ª£c x·ª≠ l√Ω s·∫Ω ch·∫∑n c√°c request kh√°c, trong tr∆∞·ªùng h·ª£p x·ª≠ l√Ω qu√° l√¢u s·∫Ω g√¢y l·ªói Timeout ·∫£nh h∆∞·ªüng ƒë·∫øn tr·∫£i nghi·ªám ng∆∞·ªùi d√πng. ƒê·ªÉ ·ª©ng d·ª•ng c√≥ th·ªÉ ho·∫°t ƒë·ªông tr∆°n chu, m∆∞·ª£t m√† h∆°n v√† √≠t b·ªã ng∆∞·ªùi d√πng ch·ª≠i l√† web l·ªüm vl üò¨, ng∆∞·ªùi ta nghƒ© ra c√°ch cho nh·ªØng t√°c v·ª• n√†y ch·∫°y trong n·ªÅn. V√≠ d·ª• nh∆∞ vi·ªác x·ª≠  d·ª•ng ch·ª©c nƒÉng export CSV, khi ng∆∞·ªùi d√πng click v√†o n√∫t export th√¨ ta s·∫Ω cho ph·∫ßn export v√† generate file ch·∫°y ng·∫ßm, khi ch·∫°y xong th√¨ g·ª≠i file cho ng∆∞·ªùi d√πng,thao t√°c c·ªßa ng∆∞·ªùi d√πng kh√¥ng b·ªã gi√°n ƒëo·∫°n. ">







  <meta property="article:published_time" content="2019-05-28T00:00:00+07:00">





  

  


<link rel="canonical" href="/buiding-background-process-ruby/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "",
      "url": "/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Home Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Home
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/work">Work</a>
            </li><li class="masthead__menu-item">
              <a href="/personal">Personal</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/img/avatar.jpeg" alt="Cloud" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Cloud</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Just some boring stuff. <br />The place I document my journey.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="mailto:ninhle.9984@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
        
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="X√¢y d·ª±ng h·ªá th·ªëng x·ª≠ l√Ω background b·∫±ng ruby">
    <meta itemprop="description" content="1. L·ª£i √≠ch c·ªßa vi·ªác s·ª≠ d·ª•ng background jobƒê·ªëi v·ªõi ·ª©ng d·ª•ng vi·∫øt b·∫±ng Rails, m·ªói khi c√≥ request ƒë·∫øn, webserver ti·∫øp nh·∫≠n request v√† tr·∫£ v·ªÅ resoponse, t·∫°i sao ch√∫ng ta c·∫ßn s·ª≠  d·ª•ng background? B·ªüi v√¨ ƒë·ªëi v·ªõi nh·ªØng requestc·∫ßn ph·∫£i t·ªën nhi·ªÅu th·ªùi gian ƒë·ªÉ x·ª≠ l√Ω nh∆∞ g·ª≠i email, import hay export v·ªõi l∆∞·ª£ng data l·ªõn, khi request ƒë∆∞·ª£c x·ª≠ l√Ω s·∫Ω ch·∫∑n c√°c request kh√°c, trong tr∆∞·ªùng h·ª£p x·ª≠ l√Ω qu√° l√¢u s·∫Ω g√¢yl·ªói Timeout ·∫£nh h∆∞·ªüng ƒë·∫øn tr·∫£i nghi·ªám ng∆∞·ªùi d√πng. ƒê·ªÉ ·ª©ng d·ª•ng c√≥ th·ªÉ ho·∫°t ƒë·ªông tr∆°n chu, m∆∞·ª£t m√† h∆°n v√† √≠t b·ªã ng∆∞·ªùi d√πng ch·ª≠i l√† web l·ªüm vl üò¨, ng∆∞·ªùi ta nghƒ© ra c√°ch cho nh·ªØng t√°c v·ª•n√†y ch·∫°y trong n·ªÅn. V√≠ d·ª• nh∆∞ vi·ªác x·ª≠  d·ª•ng ch·ª©c nƒÉng export CSV, khi ng∆∞·ªùi d√πng click v√†o n√∫t export th√¨ ta s·∫Ω cho ph·∫ßn export v√† generate file ch·∫°y ng·∫ßm, khi ch·∫°y xong th√¨ g·ª≠i file cho ng∆∞·ªùid√πng,thao t√°c c·ªßa ng∆∞·ªùi d√πng kh√¥ng b·ªã gi√°n ƒëo·∫°n.">
    <meta itemprop="datePublished" content="2019-05-28T00:00:00+07:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">X√¢y d·ª±ng h·ªá th·ªëng x·ª≠ l√Ω background b·∫±ng ruby
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 


<time class="dt-published" datetime=""></time>




  7 minute read

</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <h1 id="1-l·ª£i-√≠ch-c·ªßa-vi·ªác-s·ª≠-d·ª•ng-background-job">1. L·ª£i √≠ch c·ªßa vi·ªác s·ª≠ d·ª•ng background job</h1>
<p>ƒê·ªëi v·ªõi ·ª©ng d·ª•ng vi·∫øt b·∫±ng Rails, m·ªói khi c√≥ request ƒë·∫øn, webserver ti·∫øp nh·∫≠n request v√† tr·∫£ v·ªÅ resoponse, t·∫°i sao ch√∫ng ta c·∫ßn s·ª≠  d·ª•ng background? B·ªüi v√¨ ƒë·ªëi v·ªõi nh·ªØng request
c·∫ßn ph·∫£i t·ªën nhi·ªÅu th·ªùi gian ƒë·ªÉ x·ª≠ l√Ω nh∆∞ g·ª≠i email, import hay export v·ªõi l∆∞·ª£ng data l·ªõn, khi request ƒë∆∞·ª£c x·ª≠ l√Ω s·∫Ω ch·∫∑n c√°c request kh√°c, trong tr∆∞·ªùng h·ª£p x·ª≠ l√Ω qu√° l√¢u s·∫Ω g√¢y
l·ªói Timeout ·∫£nh h∆∞·ªüng ƒë·∫øn tr·∫£i nghi·ªám ng∆∞·ªùi d√πng. ƒê·ªÉ ·ª©ng d·ª•ng c√≥ th·ªÉ ho·∫°t ƒë·ªông tr∆°n chu, m∆∞·ª£t m√† h∆°n v√† √≠t b·ªã ng∆∞·ªùi d√πng ch·ª≠i l√† web l·ªüm vl üò¨, ng∆∞·ªùi ta nghƒ© ra c√°ch cho nh·ªØng t√°c v·ª•
n√†y ch·∫°y trong n·ªÅn. V√≠ d·ª• nh∆∞ vi·ªác x·ª≠  d·ª•ng ch·ª©c nƒÉng export CSV, khi ng∆∞·ªùi d√πng click v√†o n√∫t export th√¨ ta s·∫Ω cho ph·∫ßn export v√† generate file ch·∫°y ng·∫ßm, khi ch·∫°y xong th√¨ g·ª≠i file cho ng∆∞·ªùi
d√πng,thao t√°c c·ªßa ng∆∞·ªùi d√πng kh√¥ng b·ªã gi√°n ƒëo·∫°n.</p>

<p>B·∫£n th√¢n Rails c√≥ Active Job, c√≥ ch·ª©c nƒÉng l√† l∆∞u tr·ª≠ v√† th·ª±c hi·ªán c√°c job, nh∆∞ng ƒë·ªÉ enqueuing v√† executing job ta c·∫ßn s·ª≠ d·ª•ng framework th·ª© 3:</p>
<blockquote>
  <p>For enqueuing and executing jobs in production you need to set up a queuing backend, that is to say you need to decide for a 3rd-party queuing library that Rails should use. Rails itself only provides an in-process queuing system, which only keeps the jobs in RAM. If the process crashes or the machine is reset, then all outstanding jobs are lost with the default async backend. This may be fine for smaller apps or non-critical jobs, but most production apps will need to pick a persistent backend.</p>
</blockquote>

<p>Rails c√≥ framework ƒë·ªÉ th·ª±c hi·ªán Background Job ph·ªï bi·∫øn nh∆∞ Sidekiq, Delay::Job, Sucker Punch, v√† nh·ªØng framework ƒë√≥ kh√¥ng n·∫±m trong n·ªôi dung c·ªßa b√†i vi·∫øt n√†y. üòÅ</p>

<h1 id="2-x√¢y-d·ª±ng-h·ªá-th·ªëng-x·ª≠-l√Ω-background-b·∫±ng-ruby">2. X√¢y d·ª±ng h·ªá th·ªëng x·ª≠ l√Ω background b·∫±ng ruby</h1>

<h3 id="extractitle-task">Extractitle Task</h3>

<p>Gi·∫£ s·ª≠ ta c√≥ m·ªôt list c√°c website v√† ph·∫ß n√†y ta x√¢y d·ª•ng m·ªôt task l·∫ßn l∆∞·ª£t l·∫•y t·ª´ng title t·ª´ url ƒë√≥, b·∫±ng vi·ªác s·ª≠ d·ª•ng OpenURI v√† Nokogiri:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'open-uri'</span>
<span class="nb">require</span> <span class="s1">'nokogiri'</span>

<span class="k">class</span> <span class="nc">TitleExtractService</span>
  <span class="k">def</span> <span class="nf">call</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">document</span> <span class="o">=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">HTML</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">url</span><span class="p">))</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">document</span><span class="p">.</span><span class="nf">css</span><span class="p">(</span><span class="s1">'html &gt; head &gt; title'</span><span class="p">).</span><span class="nf">first</span><span class="p">.</span><span class="nf">content</span>
    <span class="nb">puts</span> <span class="n">title</span>
  <span class="k">rescue</span>
    <span class="nb">puts</span> <span class="s2">"Unable to open </span><span class="si">#{</span><span class="n">url</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="no">TitleExtractService</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span><span class="s2">"http://xem.vn"</span><span class="p">)</span>
<span class="c1"># C·ªông ƒë·ªìng ch·∫ø ·∫£nh troll,  xem ·∫£nh vui nh·ªôn, anh che haivl</span>
</code></pre></div></div>

<p>Refactor m·ªôt ch√∫t b·∫±ng vi·ªác th√™m module <code class="language-plaintext highlighter-rouge">Worker</code> v√†o trong Object Service nh∆∞ sau:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">Extractor</span>
  <span class="k">module</span> <span class="nn">Worker</span>
     <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">included</span><span class="p">(</span><span class="n">base</span><span class="p">)</span>
       <span class="n">base</span><span class="p">.</span><span class="nf">extend</span><span class="p">(</span><span class="no">ClassMethods</span><span class="p">)</span>
     <span class="k">end</span>

     <span class="k">module</span> <span class="nn">ClassMethods</span>
       <span class="k">def</span> <span class="nf">perform_now</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
         <span class="n">new</span><span class="p">.</span><span class="nf">perform</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
       <span class="k">end</span>
     <span class="k">end</span>

     <span class="k">def</span> <span class="nf">perform</span>
       <span class="k">raise</span> <span class="no">NotImplementedError</span>
     <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">TitleExtractWorker</span>
  <span class="kp">include</span> <span class="no">Extractor</span><span class="o">::</span><span class="no">Worker</span>

  <span class="k">def</span> <span class="nf">perform</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">document</span> <span class="o">=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">HTML</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">url</span><span class="p">))</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">document</span><span class="p">.</span><span class="nf">css</span><span class="p">(</span><span class="s1">'html &gt; head &gt; title'</span><span class="p">).</span><span class="nf">first</span><span class="p">.</span><span class="nf">content</span>
    <span class="nb">puts</span> <span class="n">title</span>
  <span class="k">rescue</span>
    <span class="nb">puts</span> <span class="s2">"Unable to open </span><span class="si">#{</span><span class="n">url</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="no">TitleExtractService</span><span class="p">.</span><span class="nf">perform_now</span><span class="p">(</span><span class="s2">"http://xem.vn"</span><span class="p">)</span>
<span class="c1"># C·ªông ƒë·ªìng ch·∫ø ·∫£nh troll,  xem ·∫£nh vui nh·ªôn, anh che hai</span>
</code></pre></div></div>

<p>Gi·∫£i th√≠ch m·ªôt ch√∫t: ·ªü ƒë√¢y ta t·∫°o th√™m <code class="language-plaintext highlighter-rouge">module Worker</code>, khi ƒë∆∞·ª£c include v√†o trong class, nh·ªù vi·ªác s·ª≠ d·ª•ng method <code class="language-plaintext highlighter-rouge">included</code>, method trong <code class="language-plaintext highlighter-rouge">module ClassMethods</code> ƒë∆∞·ª£c <code class="language-plaintext highlighter-rouge">extend</code> cho <code class="language-plaintext highlighter-rouge">TitleExtractWorker</code>, khi ƒë√≥ ta c√≥ th·ªÉ s·ª≠ d·ª•ng method <code class="language-plaintext highlighter-rouge">perform_now</code>, n√≥ s·∫Ω t·∫°o m·ªôt <code class="language-plaintext highlighter-rouge">instance</code> v√† call method <code class="language-plaintext highlighter-rouge">peform</code> (trong c√≥ v·∫ª gi·ªëng sidekiq üòâ)</p>

<h3 id="implementing-asynchronous-process">Implementing Asynchronous Process</h3>

<p>Gi·∫£ s·ª≠ ta c√≥ m·ªôt constant <code class="language-plaintext highlighter-rouge">Title</code> v∆°i list URL c·ªßa c√°c site c·∫ßn ph·∫£i l·∫•y, m√† list n√†y t·ª´ ƒë√¢u ra? ƒê·ªëi v·ªõi ng∆∞·ªùi l∆∞·ªùi nh∆∞ m√¨nh th√¨ dump l·∫°i c√°i URl nhi·ªÅu l·∫ßn c√≥ v·∫ª kh·∫£ thi nh·∫•t  ‚ò∫Ô∏è</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">SITE_URLS</span> <span class="o">=</span> <span class="no">Array</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="p">{</span> <span class="s2">"http://xem.vn"</span> <span class="p">}</span>

<span class="no">SITE_URLS</span><span class="p">.</span><span class="nf">each_with_index</span> <span class="k">do</span> <span class="o">|</span><span class="n">url</span><span class="p">,</span> <span class="n">index</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">"Numerical Order: </span><span class="si">#{</span><span class="n">index</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="no">TitleExtractWorker</span><span class="p">.</span><span class="nf">perform_now</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>

<span class="c1"># Numerical Order: 0,</span>
<span class="c1"># C·ªông ƒë·ªìng ch·∫ø ·∫£nh troll,  xem ·∫£nh vui nh·ªôn, anh che haivl</span>
<span class="c1"># Numerical Order: 1,</span>
<span class="c1"># C·ªông ƒë·ªìng ch·∫ø ·∫£nh troll,  xem ·∫£nh vui nh·ªôn, anh che haivl</span>
<span class="c1"># Numerical Order: 2,</span>
<span class="c1"># C·ªông ƒë·ªìng ch·∫ø ·∫£nh troll,  xem ·∫£nh vui nh·ªôn, anh che haivl</span>
<span class="c1"># Numerical Order: 3,</span>
<span class="c1"># ....</span>
</code></pre></div></div>

<p>Thanks God, it works üòÇ, nh∆∞ng ƒëi·ªÅu k·ªÉ ƒë·∫øn ·ªü ƒë√¢y l√† c√°c vi·ªác c√°c request ƒë∆∞·ª£c x·ª≠ l√Ω c√°ch tu·∫ßn t·ª±, nghƒ©a l√† request sau ph·∫£i ch·ªù request tr∆∞·ªõc ho√†n th√†nh r·ªìi m·ªõi ƒë∆∞·ª£c th·ª±c thi.
ƒê·ªÉ tƒÉng t·ªëc ƒë·ªô s·ª≠ l√Ω ta th√™m method <code class="language-plaintext highlighter-rouge">perform_async</code> b·∫±ng c√°ch t·∫°o th√™m <code class="language-plaintext highlighter-rouge">Thread</code> ƒë·ªÉ x·ª≠ l√Ω cho m·ªói URL.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">Extractor</span>
  <span class="k">module</span> <span class="nn">Worker</span>
    <span class="k">module</span> <span class="nn">ClassMethods</span>
      <span class="k">def</span> <span class="nf">perform_async</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="no">Thread</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span>
          <span class="n">new</span><span class="p">.</span><span class="nf">perform</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">end</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Sau khi thay ƒë·ªïi b·∫±ng vi·ªác g·ªçi <code class="language-plaintext highlighter-rouge">TitleExtractWorker.perform_now(url)</code>, ta thu ƒë∆∞·ª£c t·∫•t c·∫£ c√°c Title t·∫°i m·ªôt th·ªùi ƒëi·ªÉm, tuy nhi√™n ƒë·ªÉ l√†m ƒë∆∞·ª£c ƒëi·ªÅu ƒë√≥ ta g·∫ßn nh∆∞ m·ªü 10 connection request t·∫°i m·ªôt th·ªùi ƒëi·ªÉm üòÇ. V·ªõi thay ƒë·ªïi nh∆∞ th·∫ø n√†y ta c√≥ th·ªÉ  g·∫∑p v·∫•n ƒë·ªÅ  v·ªÅ gi·ªõi h·∫°n c·∫£ server c·ªßa ta (vi·ªác m·ªü nhi·ªÅu Thread ƒë·ªìng th·ªùi y√™u c·∫ßu kh·∫£ nƒÉng x·ª≠ l√Ω v√† t·ªën memory) v√† Site m√† ta ƒëang access (c√≥ th·ªÉ x·ª≠ l√Ω ƒë·ªìng th·ªùi nhi·ªÅu m·ªôt l√∫c nh∆∞ th·∫ø hay kh√¥ng)</p>

<h3 id="queueing-task">Queueing Task</h3>
<p>ƒê·ªÉ x·ª≠ l√Ω v·∫´n ƒë·ªÅ tr√™n ta s·ª≠ d·ª•ng <code class="language-plaintext highlighter-rouge">Producer‚ÄìConsumer </code> pattern, b·∫±ng c√°ch x·ª≠ d·ª•ng m·ªôt <code class="language-plaintext highlighter-rouge">Queue</code> trung gian, m·ªói khi c√≥ task ph√≠a <code class="language-plaintext highlighter-rouge">Producer</code>  s·∫Ω ƒë·∫•y task v√†o <code class="language-plaintext highlighter-rouge">Queue</code> v√† <code class="language-plaintext highlighter-rouge">Consumer</code> s·∫Ω k√©o task t·ª´
<code class="language-plaintext highlighter-rouge">Queue</code> v·ªÅ v√† x·ª≠ l√Ω.</p>

<p><img src="/img/28_05_2019/consummer.png" alt="" /></p>

<p>Ta th√™m <code class="language-plaintext highlighter-rouge">Queue</code> nh∆∞ sau:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">Extractor</span>
  <span class="k">module</span> <span class="nn">Worker</span>
    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">queue</span>
      <span class="vi">@queue</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">queue</span><span class="o">=</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="no">Extractor</span><span class="o">::</span><span class="no">Worker</span><span class="p">.</span><span class="nf">queue</span> <span class="o">=</span> <span class="no">Queue</span><span class="p">.</span><span class="nf">new</span>
</code></pre></div></div>
<p>V√† thay ƒë·ªïi method <code class="language-plaintext highlighter-rouge">perform_async</code>:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">...</span>
  <span class="k">def</span> <span class="nf">perform_async</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
    <span class="no">Extractor</span><span class="o">::</span><span class="no">Worker</span><span class="p">.</span><span class="nf">queue</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="ss">worker: </span><span class="nb">self</span><span class="p">,</span> <span class="ss">args: </span><span class="n">args</span><span class="p">)</span>
  <span class="k">end</span>
<span class="o">...</span>
</code></pre></div></div>

<p>ƒê·∫øn ph·∫ßn t·∫°o <code class="language-plaintext highlighter-rouge">Consummer</code>:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">Extractor</span>
  <span class="k">class</span> <span class="nc">WorkerExcuting</span>
    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">start</span><span class="p">(</span><span class="n">concurrency</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
      <span class="n">concurrency</span><span class="p">.</span><span class="nf">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">n</span><span class="o">|</span>
        <span class="n">new</span><span class="p">(</span><span class="s2">"Worker </span><span class="si">#{</span><span class="n">n</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
      <span class="n">thread</span> <span class="o">=</span> <span class="no">Thread</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span>
        <span class="kp">loop</span> <span class="k">do</span>
          <span class="n">payload</span> <span class="o">=</span> <span class="no">Extractor</span><span class="o">::</span><span class="no">Worker</span><span class="p">.</span><span class="nf">queue</span><span class="p">.</span><span class="nf">pop</span>
          <span class="n">worker_class</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="ss">:worker</span><span class="p">]</span>
          <span class="n">worker_class</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">perform</span><span class="p">(</span><span class="o">*</span><span class="n">payload</span><span class="p">[</span><span class="ss">:args</span><span class="p">])</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">thread</span><span class="p">.</span><span class="nf">name</span> <span class="o">=</span> <span class="nb">name</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>
<p>·ªû ph·∫ß n n√†y t√πy thu·ªôc v√†o s·ªë l∆∞·ª£ng <code class="language-plaintext highlighter-rouge">Thread</code> mu·ªën th·ª±c hi·ªán c√°ch ƒë·ªìng th·ªùi m√† ·ªü kh·ªüi t·∫°o ·ªü ph·∫ßn <code class="language-plaintext highlighter-rouge">start</code>. Ta s·ª≠ l·∫°i m·ªôt ch√∫t method <code class="language-plaintext highlighter-rouge">perform</code> nh∆∞ sau:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">def</span> <span class="nf">perform</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">document</span> <span class="o">=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">HTML</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">url</span><span class="p">))</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">document</span><span class="p">.</span><span class="nf">css</span><span class="p">(</span><span class="s1">'html &gt; head &gt; title'</span><span class="p">).</span><span class="nf">first</span><span class="p">.</span><span class="nf">content</span>
    <span class="nb">puts</span> <span class="s2">"Current worker </span><span class="si">#{</span><span class="no">Thread</span><span class="p">.</span><span class="nf">current</span><span class="p">.</span><span class="nf">name</span><span class="si">}</span><span class="s2"> excute  </span><span class="si">#{</span><span class="n">title</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">rescue</span>
    <span class="nb">puts</span> <span class="s2">"Unable to open </span><span class="si">#{</span><span class="n">url</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>

<span class="no">Extractor</span><span class="o">::</span><span class="no">WorkerExcuting</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="c1"># Current worker Worker 0 excute  C·ªông ƒë·ªìng ch·∫ø ·∫£nh troll,  xem ·∫£nh vui nh·ªôn, anh che haivl</span>
<span class="c1"># Current worker Worker 1 excute  C·ªông ƒë·ªìng ch·∫ø ·∫£nh troll,  xem ·∫£nh vui nh·ªôn, anh che haivl</span>
<span class="c1"># Current worker Worker 2 excute  C·ªông ƒë·ªìng ch·∫ø ·∫£nh troll,  xem ·∫£nh vui nh·ªôn, anh che haivl</span>
<span class="c1"># Current worker Worker 1 excute  C·ªông ƒë·ªìng ch·∫ø ·∫£nh troll,  xem ·∫£nh vui nh·ªôn, anh che haivl</span>
<span class="c1"># Current worker Worker 3 excute  C·ªông ƒë·ªìng ch·∫ø ·∫£nh troll,  xem ·∫£nh vui nh·ªôn, anh che haivl</span>
<span class="c1"># Current worker Worker 2 excute  C·ªông ƒë·ªìng ch·∫ø ·∫£nh troll,  xem ·∫£nh vui nh·ªôn, anh che haivl</span>
</code></pre></div></div>

<h3 id="queueing-task-with-redis">Queueing Task With Redis</h3>
<p>Thay v√¨ s·ª≠ d·ª•ng <code class="language-plaintext highlighter-rouge">Queue</code> implement b·ªü <code class="language-plaintext highlighter-rouge">ruby</code> ph·∫ßn n√†y ta s·ª≠ d·ª•ng <code class="language-plaintext highlighter-rouge">Redis</code>.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'redis'</span>
<span class="nb">require</span> <span class="s1">'json'</span>
<span class="k">module</span> <span class="nn">Extractor</span>
  <span class="k">module</span> <span class="nn">Worker</span>
    <span class="k">class</span> <span class="nc">Redis</span>
      <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">redis</span> <span class="o">=</span> <span class="o">::</span><span class="no">Redis</span><span class="p">.</span><span class="nf">new</span><span class="p">)</span>
        <span class="vi">@redis</span> <span class="o">=</span> <span class="n">redis</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
        <span class="vi">@redis</span><span class="p">.</span><span class="nf">rpush</span><span class="p">(</span><span class="s2">"extract_worker"</span><span class="p">,</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">dump</span><span class="p">(</span><span class="n">job</span><span class="p">))</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">pop</span>
        <span class="n">_queue</span><span class="p">,</span> <span class="n">payload</span> <span class="o">=</span> <span class="vi">@redis</span><span class="p">.</span><span class="nf">blpop</span><span class="p">(</span><span class="s2">"extract_worker"</span><span class="p">)</span>
        <span class="n">payload</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="ss">symbolize_names: </span><span class="kp">true</span><span class="p">)</span>
        <span class="n">payload</span><span class="p">[</span><span class="ss">:worker</span><span class="p">]</span> <span class="o">=</span> <span class="no">Object</span><span class="p">.</span><span class="nf">const_get</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="ss">:worker</span><span class="p">])</span>
        <span class="n">payload</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="no">Extractor</span><span class="o">::</span><span class="no">Worker</span><span class="p">.</span><span class="nf">queue</span> <span class="o">=</span> <span class="no">Extractor</span><span class="o">::</span><span class="no">Worker</span><span class="o">::</span><span class="no">Redis</span><span class="p">.</span><span class="nf">new</span>
</code></pre></div></div>

<p>Redis kh√¥ng ph√¢n bi·∫øt ƒë∆∞·ª£c Ruby Object n√™n ta parse th√†nh d·∫°ng JSON tr∆∞·ªõc khi l∆∞u tr·ªØ l·∫°i b·∫±ng Redis b·∫±ng vi·ªác s·ª≠ d·ª•ng method <code class="language-plaintext highlighter-rouge">rpush</code>. Ta l·∫•y object t·ª´ Redis b·∫±ng vi·ªác s·ª≠ d·ª•ng
method <code class="language-plaintext highlighter-rouge">blpop</code>, khi Redis r·ªóng n√≥ s·∫Ω ƒë·ª£i cho t·ªõi khi c√≥ object c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c t·ª´ Redis, b·∫±ng c√°ch n√†y <code class="language-plaintext highlighter-rouge">Worker</code> c≈©ng s·∫Ω  ch·ªù cho t·ªõi khi Queue c√≥ data ƒë·ªÉ x·ª≠ l√Ω. Vi·ªác cu·ªëi c√πng l√† chuy·ªÉn
<code class="language-plaintext highlighter-rouge">String</code> th√†nh <code class="language-plaintext highlighter-rouge">Object Class</code> c·ªßa Ruby khi ƒë√£ fetch data t·ª´ Redis v·ªÅ. ƒê·ªÉ ki·ªÉm tra v√† ch·∫Øc l√† <code class="language-plaintext highlighter-rouge">Worker</code> c·ªßa m√¨nh ho·∫°t ƒë·ªông t·ªët, c√≥ th·ªÉ m·ªü terminal m·ªõi, add th√™m job v√†o Redis queue v√†
xem ƒëi·ªÅu k√¨ l·∫° x·∫£y ra =))</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#background" class="page__taxonomy-item" rel="tag">background</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#ruby" class="page__taxonomy-item" rel="tag">ruby</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#work" class="page__taxonomy-item" rel="tag">work</a>
    
    </span>
  </p>




        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2019-05-28T00:00:00+07:00">May 28, 2019</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=X%C3%A2y+d%E1%BB%B1ng+h%E1%BB%87+th%E1%BB%91ng+x%E1%BB%AD+l%C3%BD+background+b%E1%BA%B1ng+ruby%20%2Fbuiding-background-process-ruby%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=%2Fbuiding-background-process-ruby%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=%2Fbuiding-background-process-ruby%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="#" class="pagination--pager disabled">Previous</a>
    
    
      <a href="/v%C3%A0i-ghi-ch%C3%A9p-v%E1%BB%81-replace-js/" class="pagination--pager" title="V√†i ghi ch√©p v·ªÅ replace function JS
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Leave a comment</h4>
      <section id="disqus_thread"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/getting-start-with-cf/" rel="permalink">Play with Cloud Formation
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 


<time class="dt-published" datetime="2024-01-14T00:00:00+07:00">January 14 2024</time>




  15 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">CloudFormation is a service provided by AWS to help users easily build, set up, and provision resources on AWS quickly, reducing the effort required for mana...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/build-happy-life/" rel="permalink">X√¢y d·ª±ng cu·ªôc s·ªëng h·∫°nh ph√∫c
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 


<time class="dt-published" datetime="2024-01-06T00:00:00+07:00">January 6 2024</time>




  8 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">M√¨nh l√† ng∆∞·ªùi c√¥ng gi√°o, m√¨nh v·∫´n nh·ªõ nh∆∞ in c√¢u gi√°o l√≠ ƒë·∫ßu ti√™n m√¨nh ƒë∆∞·ª£c h·ªçc tr∆∞·ªõc khi ƒë∆∞·ª£c x∆∞ng t·ªôi:


  H·ªèi: Ta s·ªëng ·ªü ƒë·ªùi n√†y ƒë·ªÉ l√†m g√¨? 
Th∆∞a: Ta s·ªëng...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2023/" rel="permalink">2023
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 


<time class="dt-published" datetime="2023-12-31T00:00:00+07:00">December 31 2023</time>




  10 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">M√¨nh ng·ªìi g√µ nh·ªØng d√≤ng n√†y v√†o ƒë√∫ng 31-12, ng√†y cu·ªëi c√πng c·ªßa nƒÉm 2023. M√¨nh nghƒ© nh·ªØng ng√†y cu·ªëi nƒÉm lu√¥n l√† th·ªùi ƒëi·ªÉm t·ªët ƒë·ªÉ review l·∫°i nh·ªØng g√¨ ƒë√£ x·∫£y ra...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/wishes/" rel="permalink">Th·∫ø gi·ªõi c·ªßa nh·ªØng ∆∞·ªõc mu·ªën
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 


<time class="dt-published" datetime="2023-10-29T00:00:00+07:00">October 29 2023</time>




  6 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">C√≤n nh·ªõ ng√†y n√†y nƒÉm ngo√°i m√¨nh c√≤n ƒëang ƒëi healing ·ªü tr√™n S√≥c S∆°n, l·∫ßn ·∫•y ƒëi v·∫≠y m√† c≈©ng v·∫≠t v√£ l·∫Øm.
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024 Home. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>







  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M6CS1DM42V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M6CS1DM42V', { 'anonymize_ip': false});
</script>






    
  <script>
    var disqus_config = function () {
      this.page.url = "/buiding-background-process-ruby/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/buiding-background-process-ruby"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://ninhle-dev.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>
